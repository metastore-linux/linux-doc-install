#!/bin/bash

# -------------------------------------------------------------------------------------------------------------------- #
# Install default apps.
# -------------------------------------------------------------------------------------------------------------------- #
# @author Kitsune Solar <http://kitsune.solar>
# @version 1.0.0
# -------------------------------------------------------------------------------------------------------------------- #

# -------------------------------------------------------------------------------------------------------------------- #
# Script: Settings.
# -------------------------------------------------------------------------------------------------------------------- #

# Fedora version.
srvFcVer="$(rpm -E %fedora)"

# Fonts.
srvPkgFonts="google-noto-sans-fonts google-noto-serif-fonts google-noto-emoji-fonts mozilla-fira-mono-fonts"

# Utils.
srvPkgSys="kernel-modules-extra util-linux-user xdg-utils"

# Apps.
srvPkgApps="mc mpv zsh vim htop p7zip screen gnome-tweak-tool hunspell-ru nmap rtorrent mlocate youtube-dl firefox thunderbird"

# -------------------------------------------------------------------------------------------------------------------- #
# -----------------------------------------------------< SCRIPT >----------------------------------------------------- #
# -------------------------------------------------------------------------------------------------------------------- #

# -------------------------------------------------------------------------------------------------------------------- #
# Script: Install "RPMFusion" repository.
# -------------------------------------------------------------------------------------------------------------------- #

for type in free nonfree; do
  dnf install -y https://mirror.yandex.ru/fedora/rpmfusion/${type}/fedora/rpmfusion-${type}-release-${srvFcVer}.noarch.rpm
done

# -------------------------------------------------------------------------------------------------------------------- #
# Script: Install "Fedy".
# -------------------------------------------------------------------------------------------------------------------- #

# curl http://folkswithhats.org/fedy-installer -o fedy-installer
# bash ./fedy-installer

# -------------------------------------------------------------------------------------------------------------------- #
# Script: Upgrade OS.
# -------------------------------------------------------------------------------------------------------------------- #

dnf upgrade -y

# -------------------------------------------------------------------------------------------------------------------- #
# Script: Install fonts.
# -------------------------------------------------------------------------------------------------------------------- #

dnf install -y ${srvPkgFonts}
fc-cache -f -v

# -------------------------------------------------------------------------------------------------------------------- #
# Script: Install default system & apps.
# -------------------------------------------------------------------------------------------------------------------- #

# Install default system.
dnf install -y ${srvPkgSys}

# Install default apps.
dnf install -y ${srvPkgApps}

# -------------------------------------------------------------------------------------------------------------------- #
# Script: Settings.
# -------------------------------------------------------------------------------------------------------------------- #

# ZSH. GRML config.
mv /etc/zshrc /etc/zshrc.backup
curl -o "/etc/zshrc" "https://git.grml.org/?p=grml-etc-core.git;a=blob_plain;f=etc/zsh/zshrc;hb=HEAD"

# -------------------------------------------------------------------------------------------------------------------- #
# Script: Exit.
# -------------------------------------------------------------------------------------------------------------------- #

exit 0
