#!/bin/bash

# -------------------------------------------------------------------------------------------------------------------- #
# Install minimal apps.
# -------------------------------------------------------------------------------------------------------------------- #
# @author Kitsune Solar <http://kitsune.solar>
# @version 1.0.0
# -------------------------------------------------------------------------------------------------------------------- #

# -------------------------------------------------------------------------------------------------------------------- #
# Script: Settings.
# -------------------------------------------------------------------------------------------------------------------- #

# Fedora version.
srvFcVer="$(rpm -E %fedora)"

# Utils.
srvPkgSys="kernel-modules-extra util-linux-user xdg-utils"

# Apps.
srvPkgApps="mc zsh vim htop screen nmap mlocate wget"

# -------------------------------------------------------------------------------------------------------------------- #
# -----------------------------------------------------< SCRIPT >----------------------------------------------------- #
# -------------------------------------------------------------------------------------------------------------------- #

# -------------------------------------------------------------------------------------------------------------------- #
# Script: Install "RPMFusion" repository.
# -------------------------------------------------------------------------------------------------------------------- #

for type in free nonfree; do
  dnf install -y http://download1.rpmfusion.org/${type}/fedora/rpmfusion-${type}-release-${srvFcVer}.noarch.rpm
done

# -------------------------------------------------------------------------------------------------------------------- #
# Script: Upgrade OS.
# -------------------------------------------------------------------------------------------------------------------- #

dnf upgrade -y

# -------------------------------------------------------------------------------------------------------------------- #
# Script: Install default system & apps.
# -------------------------------------------------------------------------------------------------------------------- #

# Install default system.
dnf install -y ${srvPkgSys}

# Install default apps.
dnf install -y ${srvPkgApps}

# -------------------------------------------------------------------------------------------------------------------- #
# Script: Settings.
# -------------------------------------------------------------------------------------------------------------------- #

# ZSH. GRML config.
mv /etc/zshrc /etc/zshrc.backup
curl -o "/etc/zshrc" "http://git.grml.org/?p=grml-etc-core.git;a=blob_plain;f=etc/zsh/zshrc;hb=HEAD"

# -------------------------------------------------------------------------------------------------------------------- #
# Script: Exit.
# -------------------------------------------------------------------------------------------------------------------- #

exit 0
